(function(e){function t(t){for(var a,o,i=t[0],u=t[1],c=t[2],l=0,d=[];l<i.length;l++)o=i[l],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&d.push(s[o][0]),s[o]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(e[a]=u[a]);p&&p(t);while(d.length)d.shift()();return n.push.apply(n,c||[]),r()}function r(){for(var e,t=0;t<n.length;t++){for(var r=n[t],a=!0,o=1;o<r.length;o++){var u=r[o];0!==s[u]&&(a=!1)}a&&(n.splice(t--,1),e=i(i.s=r[0]))}return e}var a={},s={app:0},n=[];function o(e){return i.p+"js/"+({about:"about"}[e]||e)+"."+{about:"b801df47"}[e]+".js"}function i(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.e=function(e){var t=[],r=s[e];if(0!==r)if(r)t.push(r[2]);else{var a=new Promise((function(t,a){r=s[e]=[t,a]}));t.push(r[2]=a);var n,u=document.createElement("script");u.charset="utf-8",u.timeout=120,i.nc&&u.setAttribute("nonce",i.nc),u.src=o(e);var c=new Error;n=function(t){u.onerror=u.onload=null,clearTimeout(l);var r=s[e];if(0!==r){if(r){var a=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+a+": "+n+")",c.name="ChunkLoadError",c.type=a,c.request=n,r[1](c)}s[e]=void 0}};var l=setTimeout((function(){n({type:"timeout",target:u})}),12e4);u.onerror=u.onload=n,document.head.appendChild(u)}return Promise.all(t)},i.m=e,i.c=a,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(r,a,function(t){return e[t]}.bind(null,a));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],c=u.push.bind(u);u.push=t,u=u.slice();for(var l=0;l<u.length;l++)t(u[l]);var p=c;n.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";r("85ec")},"2f05":function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("login"),r("div",[e.estaActivo?r("b-navbar",{attrs:{toggleable:"md",type:"dark",variant:"info"}},[r("b-navbar-brand",{attrs:{href:"#"}},[e._v("Reto")]),r("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),r("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[r("b-navbar-nav",[e.estaActivo?e._e():r("b-nav-item",{attrs:{to:"/login"}},[e._v("Login")]),e.estaActivo?r("b-nav-item",{attrs:{to:"/usuarios"}},[e._v("Usuarios")]):e._e()],1),r("b-navbar-nav",[e.estaActivo?r("b-nav-item-dropdown",{attrs:{right:""},scopedSlots:e._u([{key:"button-content",fn:function(){return[r("em",[e._v("User")])]},proxy:!0}],null,!1,4258386881)},[r("b-dropdown-item",{attrs:{href:"#"}},[e._v("Profile")]),r("b-dropdown-item",{on:{click:function(t){return e.cerrarSesion()}}},[e._v("Sign Out")])],1):e._e()],1)],1)],1):e._e()],1),r("router-view")],1)},n=[],o=r("5530"),i=r("2f62"),u=r("a55b"),c={components:{Login:u["default"]},methods:Object(o["a"])({},Object(i["b"])(["cerrarSesion","leerToken"])),computed:Object(o["a"])({},Object(i["c"])(["estaActivo"])),created:function(){this.leerToken()}},l=c,p=(r("034f"),r("2877")),d=Object(p["a"])(l,s,n,!1,null,null,null),f=d.exports,m=(r("d3b7"),r("3ca3"),r("ddb0"),r("8c4f")),v=r("1232");a["default"].use(i["a"]);var g=new i["a"].Store({state:{token:"",usuarioDB:""},mutations:{obtenerUsuario:function(e,t){e.token=t,""===t?e.usuarioDB="":(e.usuarioDB=Object(v["a"])(t),h.push({name:"usuarios"}))}},actions:{guardarUsuario:function(e,t){var r=e.commit;localStorage.setItem("token",t),r("obtenerUsuario",t)},cerrarSesion:function(e){var t=e.commit;t("obtenerUsuario",""),localStorage.removeItem("token"),h.push({name:"login"})},leerToken:function(e){var t=e.commit,r=localStorage.getItem("token");t("obtenerUsuario",r||"")}},getters:{estaActivo:function(e){return!!e.token}}});a["default"].use(m["a"]);var b=new m["a"]({mode:"history",base:"/",routes:[{path:"/usuarios",name:"usuarios",component:function(){return r.e("about").then(r.bind(null,"9c1c"))},meta:{requireAuth:!0}},{path:"/login",name:"login",component:function(){return r.e("about").then(r.bind(null,"a55b"))}}]});b.beforeEach((function(e,t,r){var a=e.matched.some((function(e){return e.meta.requireAuth}));a&&""===g.state.token?r({name:"login"}):r()}));var h=b,_=r("5f5b"),w=(r("f9e3"),r("2dd8"),r("bc3a")),C=r.n(w),y=r("2106"),j=r.n(y);a["default"].use(_["a"]),a["default"].use(j.a,C.a),C.a.defaults.baseURL="https://app-backendreto.herokuapp.com/api",a["default"].config.productionTip=!1,new a["default"]({router:h,store:g,render:function(e){return e(f)}}).$mount("#app")},"77db":function(e,t,r){"use strict";r("2f05")},"85ec":function(e,t,r){},a55b:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"cuerpo"},[r("div",{staticClass:"container"},[r("div",{staticClass:"d-flex justify-content-center h-100"},[r("div",{staticClass:"card"},[r("div",{staticClass:"card-header"},[e.agregar?e._e():r("h3",[e._v("Login")]),e.agregar?r("h3",[e._v("Crear Cuenta")]):e._e()]),r("div",{staticClass:"card-body"},[e.agregar?e._e():r("div",[r("form",{on:{submit:function(t){return t.preventDefault(),e.login.apply(null,arguments)}}},[r("div",{staticClass:"input-group form-group"},[e._m(0),r("input",{directives:[{name:"model",rawName:"v-model",value:e.usuario.email,expression:"usuario.email"}],staticClass:"form-control",attrs:{type:"text",placeholder:"username"},domProps:{value:e.usuario.email},on:{input:function(t){t.target.composing||e.$set(e.usuario,"email",t.target.value)}}})]),r("div",{staticClass:"input-group form-group"},[e._m(1),r("input",{directives:[{name:"model",rawName:"v-model",value:e.usuario.pass,expression:"usuario.pass"}],staticClass:"form-control",attrs:{type:"password",placeholder:"password"},domProps:{value:e.usuario.pass},on:{input:function(t){t.target.composing||e.$set(e.usuario,"pass",t.target.value)}}})]),e._m(2)]),""!=e.mensaje?r("div",[r("p",[e._v(e._s(e.mensaje))])]):e._e(),r("div",{staticClass:"card-footer"},[r("button",{on:{click:e.activarCrear}},[e._v("Crear Usuario")])])]),e.agregar?r("form",{on:{submit:function(t){return t.preventDefault(),e.agregarUser.apply(null,arguments)}}},[r("div",{staticClass:"input-group form-group"},[e._m(3),r("input",{directives:[{name:"model",rawName:"v-model",value:e.userNew.nombre,expression:"userNew.nombre"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Nombre"},domProps:{value:e.userNew.nombre},on:{input:function(t){t.target.composing||e.$set(e.userNew,"nombre",t.target.value)}}})]),r("div",{staticClass:"input-group form-group"},[e._m(4),r("input",{directives:[{name:"model",rawName:"v-model",value:e.userNew.email,expression:"userNew.email"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Correo"},domProps:{value:e.userNew.email},on:{input:function(t){t.target.composing||e.$set(e.userNew,"email",t.target.value)}}})]),r("div",{staticClass:"input-group form-group"},[e._m(5),r("input",{directives:[{name:"model",rawName:"v-model",value:e.userNew.pass,expression:"userNew.pass"}],staticClass:"form-control",attrs:{type:"password",placeholder:"password"},domProps:{value:e.userNew.pass},on:{input:function(t){t.target.composing||e.$set(e.userNew,"pass",t.target.value)}}})]),e._m(6),r("div",{staticClass:"card-footer"},[r("button",{on:{click:e.activarCrear}},[e._v("Cancelar")])])]):e._e()])])])])])},s=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"input-group-prepend"},[r("span",{staticClass:"input-group-text"},[r("i",{staticClass:"fas fa-user"})])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"input-group-prepend"},[r("span",{staticClass:"input-group-text"},[r("i",{staticClass:"fas fa-key"})])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"form-group"},[r("input",{staticClass:"btn float-right login_btn",attrs:{type:"submit",value:"Acceder"}})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"input-group-prepend"},[r("span",{staticClass:"input-group-text"},[r("i",{staticClass:"fas fa-user"})])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"input-group-prepend"},[r("span",{staticClass:"input-group-text"},[r("i",{staticClass:"fas fa-user"})])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"input-group-prepend"},[r("span",{staticClass:"input-group-text"},[r("i",{staticClass:"fas fa-key"})])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"form-group"},[r("input",{staticClass:"btn float-right login_btn",attrs:{type:"submit",value:"Guardar"}})])}],n=r("5530"),o=r("2f62"),i={data:function(){return{usuario:{email:"",pass:""},userNew:{email:"",pass:""},mensaje:"",agregar:!1,users:[]}},methods:Object(n["a"])(Object(n["a"])({},Object(o["b"])(["guardarUsuario"])),{},{login:function(){var e=this;this.axios.post("/login",this.usuario).then((function(t){console.log(t.data);var r=t.data.token;e.guardarUsuario(r)})).catch((function(t){console.log(t.response),e.mensaje=t.response.data.mensaje}))},activarCrear:function(){this.agregar&&(this.agregar=!1),this.agregar=!0},agregarUser:function(){var e=this;this.agregar=!1,this.axios.post("/nuevo-usuario",this.userNew).then((function(t){e.users.push(t.data),e.userNew.nombre="",e.userNew.email="",e.userNew.pass="",e.mensaje.color="success",e.mensaje.texto="Usuario Agregada!",e.showAlert()})).catch((function(t){console.log(t.response),t.response.data.error.errors.nombre.message?e.mensaje.texto=t.response.data.error.errors.nombre.message:e.mensaje.texto="Error de sistema",e.mensaje.color="danger",e.showAlert()}))}})},u=i,c=(r("77db"),r("2877")),l=Object(c["a"])(u,a,s,!1,null,"53e8d0da",null);t["default"]=l.exports}});
//# sourceMappingURL=app.9680757c.js.map